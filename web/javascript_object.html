<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Object</title>
    
    <script>
    // 자바스크립트 객체의 생성
    // {} : 중괄호를 이용해서 쉽게 객체 생성이 가능.
        
    var obj = {};  // obj 이름의 객체 생성
//        console.log('typeof(obj) : ',typeof(obj));
    
    // 객체의 속성 정의
    // 속성 이름 : 속성값, 속성 이름 : 속성값,...
    var member = {
    memberId : 'cool',
    memberName : '시원한',
    age : 15,
    chk : false,
    books : ['자바의 정석', '퍼스트 자바', '웹 프로그래밍'],
    hello : function(){
//        alert('안녕하세요');
    }

    }; 
    
    // this -> 자기 자신을 참조
        
    // 객체 참조, 호출 
    // 객체변수.속성이름
    // 객체변수.메서드이름()
  //   console.log('회원의 아이디 =>', member.memberId);   
     member.hello();
      
        
    // 객체에 속성, 메소드 추가
        member.study = function(){
     //       alert(this.books[1]+'를 공부합니다.');
        }
        member.study();
        
        member.nickName = 'COOL';
      //  console.log('member의 닉네임 =>', member.nickName);
        
        
      //  console.log(member);
        
        
      // 속성의 삭제 : delete
        delete member.nickName;
        
        //  console.log('member의 닉네임 =>', member.nickName);
        
        
       ///////////////////////////////////////////////////////
        
        
      // *학생들의 국어 영어 수학 점수를 관리하는 프로그램
        
      // 데이터는 학생이름, 국어점수, 영어점수, 수학점수  -> 객체로 처리
        
      // 객체를 저장하는 배열
      
      // 학생 객체 구조       
        var student = {
          name : 'KING',
          kor : 100,
          eng : 100,
          math : 100,
          sum : function(){
           return this.kor+this.eng+this.math;   
          },    
          avg : function(){
            return this.sum()/3;
          }    
        };
          
        alert(JSON.stringify(student));
        
      // 학생들을 저장하는 배열을 생성
        var students = [];
        
      // 배열에 요소를 추가 : push(요소의 값)
      /*  students.push({name:'A01', kor:100, eng :70, math : 60});
        students.push({name:'A02', kor:90, eng :80, math : 70});
        students.push({name:'A03', kor:80, eng :60, math : 60});
        students.push({name:'A04', kor:70, eng :80, math : 50});
        students.push({name:'A05', kor:60, eng :60, math : 40});
        students.push({name:'A06', kor:50, eng :70, math : 70});
        students.push({name:'A07', kor:40, eng :60, math : 70});
        students.push({name:'A08', kor:70, eng :70, math : 90});
        students.push({name:'A09', kor:90, eng :80, math : 100});
        students.push({name:'A10', kor:100, eng :90, math : 90});
        */
      // 배열의 사이즈 확인
     /*   console.log('students의 사이즈 :', students.length);
        
        for(var i=0; i<students.length; i++){
            students[i].sum = function(){
                return this.kor+this.eng+this.math;                 
            };
            students[i].avg = function(){
                return this.sum()/3;
            };
        }*/
        
 
        
        window.onload = function(){ 
    // onload -> 이벤트 핸들러 함수 : html문서의 모든 요소를 브라우저가 로드 했을 때 실행
         document.body.innerHTML = html;           
        };
        
       
        // 생성자 함수 : 데이터를 전달 받아 객체의 요소들의 값을 초기화 할 수 있다.
        // 생성자 함수 -> 객체를 만듬 (object 타입)
        // new를 이용해서 객체를 만들 수 있다. 
        // 학생 데이터를 저장하는 Student 생성자 함수 정의
        
        function Student(name, kor, eng, math){
            this.name = name;
            this.kor = kor;
            this.eng = eng;
            this.math = math;
            
            //총합을 구하는 메서드
            /*this.sum = function(){
              return this.kor+this.eng+this.math;  
            };*/
            // 평균을 구하는 메서드
          /*  this.avg = function(){
                return this.sum()/3;
            }*/
            
            // 결과 출력을 하기 위한 메서드
            /*this.toString = function(){
                    html = '<tr>';
                    html += '<td>'+this.name+'</td>';
                    html += '<td>'+this.kor+'</td>';
                    html += '<td>'+this.eng+'</td>';
                    html += '<td>'+this.math+'</td>';
                    html += '<td>'+this.sum()+'</td>';
                    html += '<td>'+ Math.floor(this.avg()) +'</td>';
                    html += '</tr>';   
                return html;
            }*/
        };
      
        
        
     // 생성자 함수의 공통 속성은 prototype 속성으로 관리할 수 있다.    
     // 공통 속성을 정의하면 불필요한 메모리를 쓰지 않는다. 
          
     // prototype 정의 : sum(), avg(), toString()
      Student.prototype.sum = function(){
      return this.kor+this.eng+this.math;
      };
      Student.prototype.avg = function(){
      return this.sum()/3;
      };
      Student.prototype.toString = function(){
      html = '<tr>';
          html += '<td>'+this.name+'</td>';
          html += '<td>'+this.kor+'</td>';
          html += '<td>'+this.eng+'</td>';
          html += '<td>'+this.math+'</td>';
          html += '<td>'+this.sum()+'</td>';
          html += '<td>'+ Math.floor(this.avg()) +'</td>';
          html += '</tr>';
      return html;
      };
        
        
        
        
        // 객체 생성
        var st1 = new Student('cool',10,20,30);
     //   console.log('st1의 타입 :', typeof(st1));
     //   console.log('st1', st1);
        
        
     // 배열에 요소를 추가   
        students.push(new Student('A01',80,80,50));
        students.push(new Student('A02',30,70,20));
        students.push(new Student('A03',40,60,80));
        students.push(new Student('A04',60,50,90));
        students.push(new Student('A05',70,40,80));
        students.push(new Student('A06',80,30,70));
        students.push(new Student('A07',90,60,60));
        students.push(new Student('A08',100,70,50));
        students.push(new Student('A09',20,80,40));
        students.push(new Student('A10',50,90,30));
        
        
        // 총점을 기준으로 정렬
        students.sort(function(left, right){
            return right.sum()-left.sum();
        });
        // 3등까지만 보이게 자르기
        students = students.slice(0,3);
        
        alert(JSON.stringify(students));
        
        var html = '<table border = 1>';
        html += '<tr>';
        html += '<th>이름</th>';
        html += '<th>국어점수</th>';
        html += '<th>영어점수</th>';
        html += '<th>수학점수</th>';
        html += '<th>총점</th>';
        html += '<th>평균</th>';
        html += '</tr>';
        
        for(var i in students){  //위의 인덱스 값을 받아서 10번 반복  
            
            html += students[i].toString();
   /*      html += '<tr>';
             html += '<td>'+students[i].name+'</td>';
             html += '<td>'+students[i].kor+'</td>';
             html += '<td>'+students[i].eng+'</td>';
            html += '<td>'+students[i].math+'</td>';
            html += '<td>'+students[i].sum()+'</td>';
            html += '<td>'+ Math.floor(students[i].avg()) +'</td>';
          html += '</tr>';  */              
            
        }
        
        html +='</table>';
        
        
        // 생성자 함수의 캡슐화
        function Rectangle(w,h){
            var width = w;
            var height = h;
            
            this.getWidth = function(){
                return width;
            }
            this.getHeight = function(){
                return height;
            }
            
            this.setWidth = function(w){
                width = w;
            }
            this.setHeight = function(h){
                height = h;
            }
        };
        
        var rec = new Rectangle(10,20);
        console.log('rec :', rec.getWidth());
        console.log('rec :', rec.getHeight());
        
        
        rec.setWidth(100);
        rec.setHeight(200);
        
        console.log('rec :', rec.getWidth());
        console.log('rec :', rec.getHeight());
        
        
        var arr = [11, 78, 574, 1, 100];
       // arr.sort();
        arr.sort(function(left, right){
            return left-right;
        })
        
        arr.sort(function(left, right){
            return right-left;
        })
        console.log(arr);
        
        
     
              
    </script>
    
    
</head>

    
    
    
<body>
    
</body>
</html>
